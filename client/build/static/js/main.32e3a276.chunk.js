(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{249:function(e,t,a){e.exports=a.p+"static/media/background.2fe1151d.jpg"},437:function(e,t,a){e.exports=a(918)},720:function(e,t,a){},796:function(e,t,a){},883:function(e,t,a){},915:function(e,t,a){},918:function(e,t,a){"use strict";a.r(t);a(438),a(439),a(440),a(441),a(442),a(443),a(444),a(445),a(446),a(447),a(448),a(449),a(450),a(451),a(452),a(453),a(454),a(455),a(456),a(457),a(458),a(459),a(460),a(461),a(462),a(463),a(464),a(211),a(465),a(466),a(467),a(468),a(469),a(470),a(471),a(472),a(473),a(474),a(475),a(476),a(477),a(478),a(479),a(481),a(483),a(484),a(485),a(281),a(486),a(487),a(488),a(489),a(490),a(491),a(492),a(493),a(494),a(495),a(496),a(497),a(498),a(499),a(500),a(501),a(502),a(503),a(504),a(505),a(506),a(507),a(508),a(509),a(510),a(511),a(512),a(513),a(515),a(516),a(517),a(518),a(519),a(520),a(521),a(522),a(523),a(524),a(525),a(526),a(527),a(528),a(529),a(530),a(531),a(532),a(533),a(534),a(535),a(537),a(538),a(539),a(540),a(541),a(542),a(543),a(545),a(546),a(547),a(548),a(549),a(550),a(551),a(552),a(553),a(554),a(555),a(354),a(556),a(557),a(356),a(558),a(559),a(560),a(561),a(357),a(562),a(563),a(564),a(565),a(566),a(567),a(568),a(569),a(570),a(571),a(572),a(573),a(574),a(575),a(576),a(577),a(578),a(579),a(580),a(581),a(582),a(583),a(584),a(585),a(586),a(587),a(589),a(590),a(591),a(592),a(593),a(594),a(595),a(596),a(597),a(598),a(599),a(600),a(601),a(602),a(603),a(604),a(605),a(606),a(607),a(608),a(609),a(610),a(611),a(612),a(613),a(614),a(615),a(616),a(617),a(618),a(619),a(620),a(621),a(290),a(622),a(623),a(624),a(625),a(626),a(627),a(628),a(630),a(631),a(632),a(633),a(634),a(635),a(636),a(637),a(639),a(640),a(641),a(642),a(643),a(644),a(645),a(646),a(647),a(648),a(649),a(650),a(651),a(652),a(653),a(654),a(655),a(656),a(657),a(658),a(659),a(660),a(661),a(662),a(663),a(665),a(666),a(667),a(668),a(669),a(670),a(671),a(672),a(673),a(674),a(675),a(676),a(677),a(678),a(679),a(680),a(681),a(682),a(683),a(684),a(685),a(686),a(687),a(688),a(689),a(690),a(691),a(692),a(693),a(694),a(695),a(696),a(698),a(699),a(700),a(701),a(702),a(703),a(704),a(705),a(706),a(707),a(708),a(709),a(710),a(711),a(712),a(713),a(715),a(368);var n=a(1),r=a.n(n),i=a(11),o=a.n(i),l=(a(720),a(132)),c=a(9),s=a.n(c),u="ed254f0f502fe6d02c6a0e8e830dd26c",m="https://api.themoviedb.org/3/",d="http://image.tmdb.org/t/p/";function p(){return{type:"AUTH_USER",payload:s.a.get("".concat("/api/users","/auth")).then((function(e){return e.data}))}}var f=a(81),g=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function i(i){var o=Object(f.c)((function(e){return e.user})),l=Object(f.b)();return Object(n.useEffect)((function(){l(p()).then((function(e){console.log("ressss",e.payload),e.payload.isAuth?(a&&!e.payload.isAdmin||!1===t)&&i.history.push("/"):t&&i.history.push("/login")}))}),[]),r.a.createElement(e,Object.assign({},i,{user:o}))}return i},v=a(31);var E=function(e){return r.a.createElement("div",{mode:e.mode,style:{display:"flex",flexDirection:"row",alignItems:"center",border:"none"}},r.a.createElement("div",null,r.a.createElement(v.b,{to:"/",className:"normal-button"},"Home")),r.a.createElement("div",null,r.a.createElement(v.b,{to:"/favourite",className:"normal-button"},"Favourites")),r.a.createElement("div",null,r.a.createElement(v.b,{to:"/friends",className:"normal-button"},"Freinds")))},h=a(925);var b=Object(l.f)((function(e){var t=Object(f.c)((function(e){return e.user}));return t.userData&&!t.userData.isAuth?r.a.createElement("div",{mode:e.mode,style:{display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement(v.b,{to:"/login",className:"sign-in-button"},"Sign In")),r.a.createElement("div",null,r.a.createElement(v.b,{to:"/register",className:"sign-in-button"},"Sign Up"))):r.a.createElement("div",{mode:e.mode,style:{display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement("a",{onClick:function(){s.a.get("".concat("/api/users","/logout")).then((function(t){200===t.status?e.history.push("/login"):h.a.error("Log Out Failed")}))},className:"sign-in-button"},"Logout")))})),y=a(404);a(796);var x=function(){return r.a.createElement("div",{className:"header"},r.a.createElement(v.b,{to:"/",className:"logo"},r.a.createElement(y.a,{style:{fontSize:"80px"}}),"Carpe Diem"),r.a.createElement("div",{className:"menu"},r.a.createElement(E,null),r.a.createElement(b,null)))},w=a(10),I=a(259),j=a(76),S=a(923),O=a(924),k=a(927),R=a(205),C=a(69),F=a(203),N=a(249),D=a.n(N),_=S.a.Title;var q=Object(l.f)((function(e){var t=Object(f.b)(),a=!!localStorage.getItem("rememberMe"),i=Object(n.useState)(""),o=Object(w.a)(i,2),l=o[0],c=o[1],u=Object(n.useState)(a),m=Object(w.a)(u,2),d=m[0],p=m[1],g=function(){console.log("rem",d),p(!d)},v=localStorage.getItem("rememberMe")?localStorage.getItem("rememberMe"):"";return r.a.createElement(I.a,{initialValues:{email:v,password:""},validationSchema:j.a().shape({email:j.c().email("Email is invalid").required("Email is required"),password:j.c().min(6,"Password must be at least 6 characters").required("Password is required")}),onSubmit:function(a,n){var r=n.setSubmitting;setTimeout((function(){var n={email:a.email,password:a.password};t(function(e){var t=s.a.post("".concat("/api/users","/login"),e).then((function(e){return e.data}));return console.log("req",t),{type:"LOGIN_USER",payload:t}}(n)).then((function(t){console.log("res",t),t.payload.loginSuccess?(window.localStorage.setItem("userId",t.payload.userId),!0===d?window.localStorage.setItem("rememberMe",a.email):localStorage.removeItem("rememberMe"),e.history.push("/")):c("Check out your Account or Password again")})).catch((function(e){console.log("errr",e),c("Check out your Account or Password again"),setTimeout((function(){c("")}),3e3)})),r(!1)}),500)}},(function(e){var t=e.values,a=e.touched,n=e.errors,i=(e.dirty,e.isSubmitting),o=e.handleChange,c=e.handleBlur,s=e.handleSubmit;e.handleReset;return r.a.createElement("div",{className:"app",style:{backgroundImage:"url(".concat(D.a,")")}},r.a.createElement("form",{onSubmit:s,style:{width:"350px",backgroundColor:"rgba(36,37,42,0.8)",padding:"20px",color:"white",borderRadius:"10px"}},r.a.createElement(_,{level:2,style:{color:"white"}},"Sign In"),r.a.createElement(O.a.Item,{required:!0},r.a.createElement(k.a,{id:"email",prefix:r.a.createElement(F.b,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter your email",type:"email",value:t.email,onChange:o,onBlur:c,className:n.email&&a.email?"text-input error":"text-input"}),n.email&&a.email&&r.a.createElement("div",{className:"input-feedback"},n.email)),r.a.createElement(O.a.Item,{required:!0},r.a.createElement(k.a,{id:"password",prefix:r.a.createElement(F.c,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter your password",type:"password",value:t.password,onChange:o,onBlur:c,className:n.password&&a.password?"text-input error":"text-input"}),n.password&&a.password&&r.a.createElement("div",{className:"input-feedback"},n.password)),l&&r.a.createElement("label",null,r.a.createElement("p",{style:{color:"#ff0000bf",fontSize:"0.7rem",border:"1px solid",padding:"1rem",borderRadius:"10px"}},l)),r.a.createElement(O.a.Item,{style:{color:"white"}},r.a.createElement(R.a,{id:"rememberMe",onChange:g,checked:d,style:{color:"white"}},"Remember me"),r.a.createElement("a",{className:"login-form-forgot",href:"/reset_user",style:{float:"right"}},"forgot password"),r.a.createElement("div",null,r.a.createElement(C.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{minWidth:"100%"},disabled:i,onSubmit:s},"Log in")),"Or ",r.a.createElement("a",{href:"/register"},"register now!"))))}))})),T=a(417),P=a.n(T),L=S.a.Title,B={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},A={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};var M=function(e){var t=Object(f.b)();return r.a.createElement(I.a,{initialValues:{email:"",lastname:"",name:"",password:"",confirmPassword:""},validationSchema:j.a().shape({name:j.c().required("Name is required"),lastname:j.c().required("Last Name is required"),email:j.c().email("Email is invalid").required("Email is required"),password:j.c().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:j.c().oneOf([j.b("password"),null],"Passwords must match").required("Confirm Password is required")}),onSubmit:function(a,n){var r=n.setSubmitting;setTimeout((function(){var n={email:a.email,password:a.password,name:a.name,lastname:a.lastname,image:"http://gravatar.com/avatar/".concat(P()().unix(),"?d=identicon")};t(function(e){return{type:"REGISTER_USER",payload:s.a.post("".concat("/api/users","/register"),e).then((function(e){return e.data}))}}(n)).then((function(t){t.payload.success?e.history.push("/login"):alert(t.payload.err.errmsg)})),r(!1)}),500)}},(function(e){var t=e.values,a=e.touched,n=e.errors,i=(e.dirty,e.isSubmitting),o=e.handleChange,l=e.handleBlur,c=e.handleSubmit;e.handleReset;return r.a.createElement("div",{className:"app",style:{backgroundImage:"url(".concat(D.a,")")}},r.a.createElement(O.a,Object.assign({style:{width:"350px",backgroundColor:"rgba(36,37,42,0.8)",padding:"20px",color:"white",borderRadius:"10px"}},B,{onSubmit:c}),r.a.createElement(L,{level:2,style:{color:"white"}},"Sign Up"),r.a.createElement(O.a.Item,{required:!0,label:"Name",style:{color:"white"}},r.a.createElement(k.a,{id:"name",placeholder:"Enter your name",type:"text",value:t.name,onChange:o,onBlur:l,className:n.name&&a.name?"text-input error":"text-input"}),n.name&&a.name&&r.a.createElement("div",{className:"input-feedback"},n.name)),r.a.createElement(O.a.Item,{required:!0,label:"Last Name"},r.a.createElement(k.a,{id:"lastname",placeholder:"Enter your Last Name",type:"text",value:t.lastname,onChange:o,onBlur:l,className:n.lastname&&a.lastname?"text-input error":"text-input"}),n.lastname&&a.lastname&&r.a.createElement("div",{className:"input-feedback"},n.lastname)),r.a.createElement(O.a.Item,{required:!0,label:"Email",hasFeedback:!0,validateStatus:n.email&&a.email?"error":"success"},r.a.createElement(k.a,{id:"email",placeholder:"Enter your Email",type:"email",value:t.email,onChange:o,onBlur:l,className:n.email&&a.email?"text-input error":"text-input"}),n.email&&a.email&&r.a.createElement("div",{className:"input-feedback"},n.email)),r.a.createElement(O.a.Item,{required:!0,label:"Password",hasFeedback:!0,validateStatus:n.password&&a.password?"error":"success"},r.a.createElement(k.a,{id:"password",placeholder:"Enter your password",type:"password",value:t.password,onChange:o,onBlur:l,className:n.password&&a.password?"text-input error":"text-input"}),n.password&&a.password&&r.a.createElement("div",{className:"input-feedback"},n.password)),r.a.createElement(O.a.Item,{required:!0,label:"Confirm",hasFeedback:!0},r.a.createElement(k.a,{id:"confirmPassword",placeholder:"Enter your confirmPassword",type:"password",value:t.confirmPassword,onChange:o,onBlur:l,className:n.confirmPassword&&a.confirmPassword?"text-input error":"text-input"}),n.confirmPassword&&a.confirmPassword&&r.a.createElement("div",{className:"input-feedback"},n.confirmPassword)),r.a.createElement(O.a.Item,A,r.a.createElement(C.a,{onClick:c,type:"primary",disabled:i},"Submit"))))}))},U=a(316),z=a(920),W=S.a.Title;var G=function(e){return r.a.createElement("div",{style:{background:"linear-gradient(to bottom , rgba(0,0,0,0) 39% , rgba(0,0,0,0) 41% , rgba(0,0,0,0.65) 100%), url('".concat(e.image,"'), #1c1c1c"),height:"500px",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100%",position:"relative"}},r.a.createElement("div",null,r.a.createElement("div",{style:{position:"absolute",maxWidth:"500px",bottom:"2rem",marginLeft:"2rem"}},r.a.createElement(W,{style:{color:"white"},level:2},e.title),r.a.createElement("p",{style:{color:"white",fontSize:"1rem"}},e.text))))},X=a(919);a(883);var H=function(e){return e.actor?r.a.createElement(X.a,{lg:6,md:8,sm:12,xs:24},r.a.createElement("div",{style:{position:"relative"},className:"card"},r.a.createElement("img",{style:{width:"100%",height:"320px",borderRadius:"5%"},alt:"",src:e.image}),r.a.createElement("div",{style:{position:"absolute",bottom:0,color:"#24252A",width:"100%",height:"50px",fontSize:"20px",display:"flex",alignItems:"center",backgroundColor:"rgb(237, 240, 241 , 0.7)",paddingLeft:"15px",fontWeight:600,borderRadius:"0px 0px 18px 18px"}},e.actor))):r.a.createElement(X.a,{lg:6,md:8,sm:12,xs:24},r.a.createElement("div",{style:{position:"relative"},className:"card"},r.a.createElement(v.b,{to:"/movie/".concat(e.movieId)},r.a.createElement("img",{style:{width:"100%",height:"320px"},alt:"",src:e.image}))))},V=S.a.Title,J=function(){var e=Object(n.useState)([]),t=Object(w.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(0),l=Object(w.a)(o,2),c=l[0],s=l[1];Object(n.useEffect)((function(){var e="".concat(m,"movie/popular?api_key=").concat(u,"&language=en-US&page=1");p(e)}),[]);var p=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){console.log("fetch latest",e),i([].concat(Object(U.a)(a),Object(U.a)(e.results))),s(e.page)}))};return r.a.createElement("div",{style:{width:"100%",margin:0,scrollbarWidth:"none",backgroundColor:"#24252A"}},a[1]&&r.a.createElement(G,{image:"".concat(d,"w1280").concat(a[1].backdrop_path),title:a[1].original_title,text:a[1].overview}),r.a.createElement("div",{style:{width:"85%",margin:"1rem auto",marginBottom:"0px"}},r.a.createElement(V,{level:2,style:{color:"white"}},"Movies By Latest"),r.a.createElement("hr",null),r.a.createElement(z.a,{gutter:[16,6]},a&&a.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(H,{image:e.poster_path&&"".concat(d,"w500").concat(e.poster_path),movieId:e.id}))}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"5px",marginBottom:"0px"}},r.a.createElement("button",{onClick:function(){var e="".concat(m,"movie/popular?api_key=").concat(u,"&language=en-US&page=").concat(c+1);p(e)},className:"sign-in-button",style:{marginBottom:"20px",marginTop:"20px"}},"Load More"))))},K=a(75);var $=function(){var e;return r.a.createElement("div",{style:{height:"250px",backgroundColor:"#0088a9",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",fontSize:"1rem"}},r.a.createElement("div",{style:{width:"30%",height:"100%",color:"#edf0f1",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"}},r.a.createElement("h1",{style:{color:"#edf0f1"}},"Carpe Diem"),r.a.createElement("div",null,"Dolore incididunt dolore irure ullamco dolor quis ea. Amet in velit pariatur dolor nisi cupidatat irure eu tempor dolor pariatur. Excepteur occaecat fugiat ullamco mollit sit excepteur ex nostrud exercitation.")),r.a.createElement("div",{style:{width:"60%",height:"100%",color:"#edf0f1",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingLeft:"30px"}},r.a.createElement("div",{style:(e={display:"flex",flexDirection:"row",width:"90%",justifyContent:"space between"},Object(K.a)(e,"justifyContent","center"),Object(K.a)(e,"alignItems","center"),e)},r.a.createElement(k.a,{placeholder:"Leave e-mail here.. ",style:{width:"40%",borderRadius:"10px",height:"80%",marginInline:"20px"}}),r.a.createElement("div",{className:"sign-in-button",style:{backgroundColor:"rgb(36, 37, 42)"}},"Subscribe"))))},Q=a(926),Y=function(e){var t=Object(n.useState)(0),a=Object(w.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(!1),c=Object(w.a)(l,2),u=c[0],m=c[1],d={userFrom:e.userFrom,movieId:e.movieId,movieTitle:e.movieInfo.original_title,movieImage:e.movieInfo.backdrop_path,movieRunTime:e.movieInfo.runtime};return Object(n.useEffect)((function(){s.a.post("".concat("/api/favourite","/favourited"),d).then((function(e){e.data?(console.log("data",e.data),m(e.data.favourited)):alert("Failed to get Favourited")})),s.a.post("".concat("/api/favourite","/favouriteNumber"),d).then((function(e){console.log("Im here"),e.data.success?o(e.data.favouriteNumber):alert("Failed to get favourites Number")}))}),[]),r.a.createElement("div",{style:{position:"relative",float:"right",top:"-80px",right:"10px",display:"flex",flexDirection:"row"}},r.a.createElement("div",{onClick:function(){u?s.a.post("".concat("/api/favourite","/removeFromFavourite"),d).then((function(e){e.data.success?(o(i-1),m(!u)):alert("Failed to remove from favourites")})):s.a.post("".concat("/api/favourite","/addToFavourite"),d).then((function(e){console.log("response",e.data),e.data.success?(o(i+1),m(!u)):alert("Failed to add to favourites")}))},className:"sign-in-button"},u?"Remove from Favourites":"Add to Favourites"),r.a.createElement("div",{className:"sign-in-button",style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"}},r.a.createElement(F.a,null),i))},Z=a(95),ee=a(148),te=function(e){var t=Object(n.useState)([]),a=Object(w.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(!1),c=Object(w.a)(l,2),u=c[0],m=c[1],d=Object(n.useState)(!1),p=Object(w.a)(d,2),f=p[0],g=p[1];Object(n.useEffect)((function(){var t={id:e.userFrom};s.a.post("".concat("/api/users","/user"),t).then((function(e){e.data.user&&o(e.data.user)}));var a={userFrom:localStorage.getItem("userId"),movieId:e.movieId,reviewId:e.reviewId};s.a.post("".concat("/api/reviews","/getLiked"),a).then((function(e){e.data.liked&&m(!0),e.data.disliked&&g(!0)}))}),[u,f]);return r.a.createElement("div",{style:{backgroundColor:"#edf0f1",borderRadius:"10px",padding:"7px",margin:"auto",width:"80%",marginBottom:"5px",fontSize:"20px"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},i.image?r.a.createElement("img",{src:i.image,style:{borderRadius:"50%"}}):r.a.createElement(Z.a,null),r.a.createElement("div",{style:{marginLeft:"3px",display:"flex",flexDirection:"column"}},i.name?i.name:e.userFrom,r.a.createElement("div",{style:{fontSize:"14px"}},e.review.review))),r.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end",fontSize:"14px"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"10%",justifyContent:"space-evenly"}},r.a.createElement("div",null,e.review.likedBy&&e.review.likedBy.length),console.log("like",u,f),u&&r.a.createElement(ee.b,Object(K.a)({style:{marginRight:"25px"}},"style",{color:"blue"})),!u&&!f&&r.a.createElement(ee.b,{style:{marginRight:"25px"},onClick:function(){var t={userFrom:localStorage.getItem("userId"),movieId:e.movieId,likedReview:e.reviewId};s.a.post("".concat("/api/reviews","/likeOne"),t).then((function(e){e.data.doc1&&e.data.doc2&&(m(!0),h.a.success("Review Liked"))}))}}),!u&&f&&r.a.createElement(ee.b,{style:{marginRight:"25px"}})),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"10%",justifyContent:"space-evenly"}},r.a.createElement("div",null,e.review.dislikedBy&&e.review.dislikedBy.length),f&&r.a.createElement(ee.a,Object(K.a)({style:{marginRight:"25px"}},"style",{color:"red"})),!f&&!u&&r.a.createElement(ee.a,{style:{marginRight:"25px"},onClick:function(){var t={userFrom:localStorage.getItem("userId"),movieId:e.movieId,likedReview:e.reviewId};s.a.post("".concat("/api/reviews","/dislikeOne"),t).then((function(e){e.data.doc1&&e.data.doc2&&(g(!0),h.a.success("Review Disliked"))}))}}),!f&&u&&r.a.createElement(ee.a,{style:{marginRight:"25px"}}))))},ae=function(e){var t=Object(n.useState)([]),a=Object(w.a)(t,2),i=a[0],o=a[1];return Object(n.useEffect)((function(){var t={movieId:e.movieId};s.a.post("".concat("/api/reviews","/getAll"),t).then((function(e){e.data.reviews?o(e.data.reviews):alert("Cannot get reviews")}))}),[e.reload]),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"1rem",marginBottom:"0px"}},i.map((function(t){return r.a.createElement(te,{review:t,userFrom:t.userFrom,movieId:e.movieId,reviewId:t._id})})))},ne=k.a.TextArea,re=function(e){var t=Object(n.useState)(""),a=Object(w.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(!1),c=Object(w.a)(l,2),u=c[0],m=c[1];return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"1rem",marginBottom:"0px"}},r.a.createElement(ne,{placeholder:"writeyour review....",rows:3,disabled:u,value:i,onChange:function(e){o(e.target.value)},onPressEnter:function(t){m(!0),t.preventDefault();var a={userFrom:e.userFrom,movieId:e.movieId,review:t.target.value};s.a.post("".concat("/api/reviews","/write"),a).then((function(e){e.data.success?h.a.success("Review submitted"):h.a.error("Review error")})),o(""),e.callback()},style:{borderRadius:"10px",padding:"7px",margin:"5px auto",width:"80%"}}))},ie=S.a.Title;var oe=function(e){var t=e.match.params.movieId,a=Object(n.useState)([]),i=Object(w.a)(a,2),o=i[0],l=i[1],c=Object(n.useState)([]),s=Object(w.a)(c,2),p=s[0],f=s[1],g=Object(n.useState)(!1),v=Object(w.a)(g,2),E=v[0],h=v[1];return Object(n.useEffect)((function(){fetch("".concat(m,"movie/").concat(t,"?api_key=").concat(u,"&language=en-US")).then((function(e){return e.json()})).then((function(e){console.log("movie",e),l(e),fetch("".concat(m,"movie/").concat(t,"/credits?api_key=").concat(u)).then((function(e){return e.json()})).then((function(e){console.log("crew",e.cast),f(e.cast)}))}))}),[]),r.a.createElement("div",{style:{width:"100%",margin:0,scrollbarWidth:"none",backgroundColor:"#24252A"}},o&&r.a.createElement(G,{image:"".concat(d,"w1280").concat(o.backdrop_path),title:o.original_title,text:o.overview}),r.a.createElement(Y,{userFrom:localStorage.getItem("userId"),movieId:t,movieInfo:o}),r.a.createElement("div",{style:{width:"90%",display:"flex",flexDirection:"column",paddingLeft:"1rem",color:"white"}},r.a.createElement("h1",{style:{margin:"0px",color:"white"}},o&&o.original_title),r.a.createElement("div",null,o&&o.tagline),r.a.createElement("div",null,"Rating :"," ",o&&r.a.createElement(Q.a,{allowHalf:!0,disabled:!0,value:o.vote_average,count:10})),r.a.createElement("div",null,"Rated By : ",o&&o.vote_count," people"),r.a.createElement("div",null,"Relaese Date : ",o&&o.release_date),r.a.createElement("div",null,"Movie Runtime : ",o&&o.runtime," Min"),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},"Genres :"," ",o.genres&&o.genres.map((function(e,t){return r.a.createElement("div",{key:t,style:{marginRight:"5px"}},r.a.createElement("div",{className:"sign-in-button",style:{fontSize:"10px",backgroundColor:"#edf0f1",color:"rgb(0, 136, 169, 1)",padding:"4px 10px"}},e.name))})))),r.a.createElement(ie,{style:{marginLeft:"1rem",color:"white"}},"Cast"),r.a.createElement(z.a,{gutter:[16,6],style:{margin:"0px",padding:"1rem"}},p&&p.map((function(e,t){return t<15?r.a.createElement(r.a.Fragment,{key:t},e.profile_path&&r.a.createElement(H,{actor:e.name,image:"".concat(d,"w500").concat(e.profile_path)})):null}))),r.a.createElement(ie,{style:{margin:"1rem",color:"white"}},"Reviews"),r.a.createElement(re,{userFrom:localStorage.getItem("userId"),movieId:t,callback:function(){console.log("callback happening"),h(!E)}}),r.a.createElement(ae,{movieId:t,reload:E}))},le=a(928),ce=a(921);var se=function(){var e=Object(n.useState)([]),t=Object(w.a)(e,2),a=t[0],i=t[1],o=[{title:"Movie Title",dataIndex:"movieTitle",key:"movieTitle",render:function(e,t){return r.a.createElement(v.b,{to:"/movie/".concat(t.movieId)},e)}},{title:"Movie RunTime",dataIndex:"movieRunTime",key:"movieRunTime"},{title:"Remove From Favourites",render:function(e,t){return r.a.createElement(le.a,{title:"Sure to delete?",onConfirm:function(){return l(t)}},r.a.createElement(C.a,null,"Delete"))}}],l=function(e){s.a.post("".concat("/api/favourite","/removeFromFavourite"),e).then((function(e){e.data.success?u():alert("Failed to remove from favourites")}))},c={userFrom:localStorage.getItem("userId")};Object(n.useEffect)((function(){u()}),[]);var u=function(){s.a.post("".concat("/api/favourite","/getFavouriteMovies"),c).then((function(e){e.data.success?i(e.data.favourites):alert("failed to get favourites")}))};return r.a.createElement("div",{style:{width:"100%",height:"calc(100vh-80px)",padding:"80px",backgroundColor:"#edf0f1;"}},r.a.createElement("h1",{style:{color:"#24252A"}},"My Favourites"),r.a.createElement(ce.a,{dataSource:a,columns:o}))},ue=a(51),me=a.n(ue),de=a(110),pe=a(922),fe=a(175),ge=a(140),ve=function(e){var t=Object(n.useState)([]),a=Object(w.a)(t,2),i=a[0],o=a[1];Object(n.useEffect)((function(){o(e.users)}),[e.users.length]);return r.a.createElement("div",{style:{width:"100%",fontSize:"20px",display:"flex",flexDirection:"column",alignItems:"center"}},void 0!==ge.head(i)?i.map((function(t){return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:"#edf0f1",borderRadius:"10px",padding:"7px",margin:"auto",width:"80%",marginBottom:"5px",justifyContent:"space-between"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},t.image?r.a.createElement("img",{src:t.image,style:{borderRadius:"50%"}}):r.a.createElement(Z.a,null),r.a.createElement("div",{style:{marginInline:"5px"}},r.a.createElement("div",null,t.name?t.name:e.userFrom," ",t.lastname?t.lastname:e.userFrom),r.a.createElement("div",null,t.email?t.email:e.userFrom))),r.a.createElement("div",{style:{marginLeft:"3px",display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("div",{className:"sign-in-button",onClick:function(){return function(t){var a={userFrom:localStorage.getItem("userId"),userTo:t._id,time:Date.now()};s.a.post("".concat("/api/users","/sendRequest"),a).then((function(t){t.data.doc1&&t.data.doc2&&(h.a.success("Friend Request Sent"),e.getPendingRequests(),e.getAllUsers())}))}(t)}},"Send Request")))})):r.a.createElement(fe.a,{image:fe.a.PRESENTED_IMAGE_SIMPLE,style:{color:"white"}}))},Ee=a(140),he=function(e){var t=Object(n.useState)([]),a=Object(w.a)(t,2),i=a[0],o=a[1];Object(n.useEffect)((function(){o(e.users)}),[e.users.length]);return r.a.createElement("div",{style:{width:"100%",fontSize:"20px",display:"flex",flexDirection:"column",alignItems:"center"}},void 0!==Ee.head(i)?i.map((function(t){return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:"#edf0f1",borderRadius:"10px",padding:"7px",margin:"auto",width:"80%",marginBottom:"5px",justifyContent:"space-between"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},t.image?r.a.createElement("img",{src:t.image,style:{borderRadius:"50%"}}):r.a.createElement(Z.a,null),r.a.createElement("div",{style:{marginInline:"5px"}},r.a.createElement("div",null,t.name?t.name:e.userFrom," ",t.lastname?t.lastname:e.userFrom),r.a.createElement("div",null,t.email?t.email:e.userFrom))),r.a.createElement("div",{style:{marginLeft:"3px",display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("div",{className:"sign-in-button",onClick:function(){return function(t){var a={userFrom:localStorage.getItem("userId"),userTo:t._id};s.a.post("".concat("/api/users","/acceptRequest"),a).then((function(t){t.data.doc1&&t.data.doc2&&(h.a.success("Friend Request Accepted"),e.getRequests())}))}(t)}},"Accept Request"),r.a.createElement("div",{className:"sign-in-button",onClick:function(){return function(e){var t={userFrom:localStorage.getItem("userId"),userTo:e._id};s.a.post("".concat("/api/users","/rejectRequest"),t).then((function(e){e.data.doc1&&e.data.doc2&&(h.a.success("Friend Request Rejected"),window.location.reload())}))}(t)}},"Reject Request")))})):r.a.createElement(fe.a,{image:fe.a.PRESENTED_IMAGE_SIMPLE,style:{color:"white"}}))},be=a(140),ye=function(e){var t=Object(n.useState)([]),a=Object(w.a)(t,2),i=a[0],o=a[1];Object(n.useEffect)((function(){o(e.users)}),[e.users.length]);return r.a.createElement("div",{style:{width:"100%",fontSize:"20px",display:"flex",flexDirection:"column",alignItems:"center"}},void 0!==be.head(i)?i.map((function(t){return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:"#edf0f1",borderRadius:"10px",padding:"7px",margin:"auto",width:"80%",marginBottom:"5px",justifyContent:"space-between"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},t.image?r.a.createElement("img",{src:t.image,style:{borderRadius:"50%"}}):r.a.createElement(Z.a,null),r.a.createElement("div",{style:{marginInline:"5px"}},r.a.createElement("div",null,t.name?t.name:e.userFrom," ",t.lastname?t.lastname:e.userFrom),r.a.createElement("div",null,t.email?t.email:e.userFrom))),r.a.createElement("div",{style:{marginLeft:"3px",display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("div",{className:"sign-in-button",onClick:function(){return function(e){var t={userFrom:localStorage.getItem("userId"),userTo:e._id};s.a.post("".concat("/api/users","/cancelRequest"),t).then((function(e){e.data.doc1&&e.data.doc2&&(h.a.success("Friend Request Cancelled"),window.location.reload())}))}(t)}},"Cancel Request")))})):r.a.createElement(fe.a,{image:fe.a.PRESENTED_IMAGE_SIMPLE,style:{color:"white"}}))},xe=a(140),we=function(e){var t=Object(n.useState)([]),a=Object(w.a)(t,2),i=a[0],o=a[1];Object(n.useEffect)((function(){o(e.users)}),[e.users.length]);return r.a.createElement("div",{style:{width:"100%",fontSize:"20px",display:"flex",flexDirection:"column",alignItems:"center"}},void 0!==xe.head(i)?i.map((function(t){return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:"#edf0f1",borderRadius:"10px",padding:"7px",margin:"auto",width:"80%",marginBottom:"5px",justifyContent:"space-between"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},t.image?r.a.createElement("img",{src:t.image,style:{borderRadius:"50%"}}):r.a.createElement(Z.a,null),r.a.createElement("div",{style:{marginInline:"5px"}},r.a.createElement("div",null,t.name?t.name:e.userFrom," ",t.lastname?t.lastname:e.userFrom),r.a.createElement("div",null,t.email?t.email:e.userFrom))),r.a.createElement("div",{style:{marginLeft:"3px",display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement(v.b,{to:"/profile/".concat(t._id)},r.a.createElement("div",{className:"sign-in-button"},"View Profile")),r.a.createElement("div",{className:"sign-in-button",onClick:function(){return function(e){var t={userFrom:localStorage.getItem("userId"),userTo:e._id};s.a.post("".concat("/api/users","/unFriend"),t).then((function(e){e.data.doc1&&e.data.doc2&&(h.a.success("User Unfriended"),window.location.reload())}))}(t)}},"UnFriend")))})):r.a.createElement(fe.a,{image:fe.a.PRESENTED_IMAGE_SIMPLE,style:{color:"white"}}))},Ie=a(140),je=(S.a.Title,pe.a.TabPane);function Se(e){}var Oe=function(){var e,t=Object(n.useState)([]),a=Object(w.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)([]),c=Object(w.a)(l,2),u=c[0],m=c[1],d=Object(n.useState)([]),p=Object(w.a)(d,2),f=p[0],g=p[1],v=Object(n.useState)([]),E=Object(w.a)(v,2),h=E[0],b=E[1],y=Object(n.useState)([]),x=Object(w.a)(y,2),I=x[0],j=x[1];Object(n.useEffect)((function(){S().then(O().then(k().then(R())))}),[]),Object(n.useEffect)((function(){var e=i;e=Ie.differenceWith(e,u,Ie.isEqual),e=Ie.differenceWith(e,f,Ie.isEqual),e=Ie.differenceWith(e,h,Ie.isEqual),j(e)}),[i.length,u.length,f.length,h.length]);var S=function(){var e=Object(de.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:localStorage.getItem("userId")},e.next=3,s.a.post("".concat("/api/users","/getAll"),t).then((function(e){e.data.users&&o(e.data.users)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(de.a)(me.a.mark((function e(){var t,a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:localStorage.getItem("userId")},a=[],e.next=4,s.a.post("".concat("/api/users","/user"),t).then((function(e){e.data.user.friends&&e.data.user.friends.forEach((function(e){var t={id:e.user};s.a.post("".concat("/api/users","/user"),t).then((function(e){e.data.user&&(a=Ie.concat(a,e.data.user),m(a))}))}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(de.a)(me.a.mark((function e(){var t,a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:localStorage.getItem("userId")},a=[],e.next=4,s.a.post("".concat("/api/users","/user"),t).then((function(e){e.data.user.friendRequests&&e.data.user.friendRequests.forEach((function(e){var t={id:e.user};s.a.post("".concat("/api/users","/user"),t).then((function(e){e.data.user&&(a=Ie.concat(a,e.data.user),g(a))}))}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(de.a)(me.a.mark((function e(){var t,a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:localStorage.getItem("userId")},a=[],e.next=4,s.a.post("".concat("/api/users","/user"),t).then((function(e){e.data.user.pendingRequests&&e.data.user.pendingRequests.forEach((function(e){var t={id:e.user};s.a.post("".concat("/api/users","/user"),t).then((function(e){e.data.user&&(a=Ie.concat(a,e.data.user),b(a))}))}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(pe.a,{tabBarStyle:{color:"#0088a9"},defaultActiveKey:"1",onChange:Se,style:(e={width:"100%",height:"calc(100vh-80px)",padding:"1rem"},Object(K.a)(e,"height","100vh"),Object(K.a)(e,"backgroundColor","#24252A"),Object(K.a)(e,"paddingTop","80px"),e)},r.a.createElement(je,{tab:"All Users",key:"1"},r.a.createElement(ve,{users:I,getPendingRequests:function(){return R()},getAllUsers:function(){return S()}})),r.a.createElement(je,{tab:"Friends",key:"2"},r.a.createElement(we,{users:u})),r.a.createElement(je,{tab:"Friend Requests",key:"3"},r.a.createElement(he,{users:f})),r.a.createElement(je,{tab:"Pending Requests",key:"4"},r.a.createElement(ye,{users:h})))},ke=(a(915),a(140));var Re=function(e){var t=Object(n.useState)([]),a=Object(w.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)([]),c=Object(w.a)(l,2),u=c[0],m=c[1],d=Object(n.useState)([]),p=Object(w.a)(d,2),f=p[0],g=p[1];Object(n.useEffect)((function(){E().then(b())}),[e.match.params]);var E=function(){var t=Object(de.a)(me.a.mark((function t(){var a;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e.match.params.id},t.next=3,s.a.post("".concat("/api/users","/user"),a).then((function(e){e.data.user?(o(e.data.user),y(e.data.user)):h.a.error("user fetch failed")}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(de.a)(me.a.mark((function t(){var a;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={userFrom:e.match.params.id},t.next=3,s.a.post("".concat("/api/favourite","/getFavouriteMovies"),a).then((function(e){e.data.success?m(e.data.favourites):h.a.error("Favourite movies fetch failed")}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(e){var t=[];e.friends.forEach(function(){var e=Object(de.a)(me.a.mark((function e(a){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:a.user},e.next=3,s.a.post("".concat("/api/users","/user"),n).then((function(e){e.data.user&&(t=ke.concat(t,e.data.user))}));case 3:g(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return r.a.createElement("div",{className:"user-profile"},r.a.createElement("div",{className:"img-background"},r.a.createElement("img",{src:"http://gravatar.com/avatar/1588537104?d=identicon",style:{borderRadius:"50%",border:"1px solid #fff",padding:"3px"}}),r.a.createElement("div",{style:{color:"white",fontWeight:"600",fontSize:"28px"}},i.name," ",i.lastname),r.a.createElement("div",null,i.email)),r.a.createElement("div",{className:"img-background",style:{justifyContent:"flex-start",alignItems:"flex-start"}},r.a.createElement("div",{className:"title-in-user-profile"},"Favourites"),r.a.createElement("div",{style:{width:"100%",overflowX:"scroll",height:"30vh",display:"flex",flexDirection:"row"}},u&&u.map((function(e){return r.a.createElement(v.b,{to:"/movie/".concat(e.movieId)},r.a.createElement("div",{style:{marginRight:"20px",position:"relative"}},r.a.createElement("img",{style:{height:"100%"},src:"http://image.tmdb.org/t/p/w200".concat(e.movieImage)}),r.a.createElement("div",{style:{position:"absolute",bottom:0,left:0,backgroundColor:"rgb(36, 37, 42, 0.5)",width:"100%",paddingLeft:"3px",color:"white"}},e.movieTitle)))})))),r.a.createElement("div",{className:"img-background",style:{justifyContent:"flex-start",alignItems:"flex-start",marginBottom:"0px"}},r.a.createElement("div",{className:"title-in-user-profile"},"Friends"),r.a.createElement("div",{style:{width:"100%",overflowX:"scroll",height:"30vh",display:"flex",flexDirection:"row"}},f&&f.map((function(e){return r.a.createElement(v.b,{to:"/profile/".concat(e._id)},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",color:"white"}},r.a.createElement("img",{src:e.image,style:{borderRadius:"10px"}}),r.a.createElement("div",null,e.name)))})))))};var Ce=function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(x,null),r.a.createElement("div",{style:{minHeight:"calc(100vh - 80px)"}},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:g(J,null)}),r.a.createElement(l.a,{exact:!0,path:"/login",component:g(q,!1)}),r.a.createElement(l.a,{exact:!0,path:"/register",component:g(M,!1)}),r.a.createElement(l.a,{exact:!0,path:"/movie/:movieId",component:g(oe,null)}),r.a.createElement(l.a,{exact:!0,path:"/favourite",component:g(se,null)}),r.a.createElement(l.a,{exact:!0,path:"/friends",component:g(Oe,null)}),r.a.createElement(l.a,{exact:!0,path:"/profile/:id",component:g(Re,null)}))),r.a.createElement($,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Fe=a(141),Ne=a(206),De=Object(Fe.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_USER":return Object(Ne.a)({},e,{register:t.payload});case"LOGIN_USER":return Object(Ne.a)({},e,{loginSucces:t.payload});case"AUTH_USER":return Object(Ne.a)({},e,{userData:t.payload});case"LOGOUT_USER":return Object(Ne.a)({},e);default:return e}}}),_e=a(431),qe=a.n(_e),Te=a(432),Pe=Object(Fe.a)(qe.a,Te.a)(Fe.d);o.a.render(r.a.createElement(f.a,{store:Pe(De,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(v.a,null,r.a.createElement(Ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[437,1,2]]]);
//# sourceMappingURL=main.32e3a276.chunk.js.map